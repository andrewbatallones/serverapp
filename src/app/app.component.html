<div class="container py-4">
  <nav class="navbar navbar-dark" style="background-color: #0277bd;">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">Manage Servers</span>

      <div class="d-flex">
        <button type="button" class="btn btn-info dropdown-toggle me-2">ALL</button>
        <button type="button" class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#new-server-form">New Server</button>
        <button type="button" class="btn btn-primary me-4">Print Report</button>
      </div>
    </div>
  </nav>

  <ng-container *ngIf="(appState$ | async) as appState" [ngSwitch]="appState.dataState">
    <ng-container *ngSwitchCase="DataState.LOADING_STATE">
      <div class="col-md-12 single-note-item text-center">
        <div class="spinner-border text-info"></div>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="DataState.LOADED_STATE">
      <div>
        <table class="table" id="servers">
          <thead>
            <tr>
              <th scope="col">Image</th>
              <th scope="col">IP Address</th>
              <th scope="col">Name</th>
              <th scope="col">Memory</th>
              <th scope="col">Type</th>
              <th scope="col">Status</th>
              <th scope="col">Ping</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
      
          <tbody *ngFor="let server of appState.appData.data.servers">
            <tr>
              <td scope="row"><img [src]="server.imageUrl" [alt]="server.name" width="40" height="40"></td>
              <td>{{ server.ipAddress }}</td>
              <td>{{ server.name }}</td>
              <td>{{ server.memory }}</td>
              <td>{{ server.type }}</td>
              <td>
                <span class="badge"
                [ngClass]="[server.status == Status.SERVER_UP ? ' bg-success' : 'bg-danger']">
                  {{ server.status.replace('_', ' ') }}
                </span>
              </td>
              <td><i class="bi bi-router-fill"></i></td>
              <td><i class="bi bi-trash-fill"></i></td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="DataState.ERROR_STATE">
      <div class="alert-danger">error</div>
    </ng-container>
  </ng-container>

  <div class="modal fade" id="new-server-form" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="new-server-form-label">New Server</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-success">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>